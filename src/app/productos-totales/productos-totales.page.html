<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-icon name="options-outline" slot="icon-only"></ion-icon>
    </ion-buttons>
    <ion-searchbar placeholder="Buscar productos..."></ion-searchbar>
    <ion-buttons slot="end">
      <ion-icon name="cart-outline" slot="icon-only"></ion-icon>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>

    <!-- 🔶 SECCIÓN DE PRODUCTOS FAVORITOS -->
    <ion-row>
      <ng-container *ngFor="let producto of productos">
        <ion-col size="12" *ngIf="producto.favorito">
          <ion-card class="product-card favorito">
            <div class="encabezado-card">
              <p class="codigo">COD: {{ producto.codigo }}</p>
              <!-- 🔥 ÍCONO DE LLAMA -->
              <ion-icon
                name="flame"
                class="icono-llama"
                (click)="marcarFavorito(producto)"
              ></ion-icon>
            </div>

            <img [src]="producto.imagen" *ngIf="producto.imagen" class="img-producto" />

            <ion-card-content>
              <p class="titulo">{{ producto.titulo }}</p>

              <p class="precio" [class.con-descuento]="producto.descuento">
                <span *ngIf="producto.descuento" class="tachado">
                  ${{ producto.precioOriginal }}
                </span>
                <span [ngClass]="{ 'precio-oferta': producto.descuento, 'precio-normal': !producto.descuento }">
                  ${{ producto.precio }}
                </span>
              </p>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ng-container>
    </ion-row>

    <!-- 🔷 SECCIÓN DE PRODUCTOS NORMALES -->
    <ion-row>
      <ng-container *ngFor="let producto of productos">
        <ion-col size="6" *ngIf="!producto.favorito">
          <ion-card class="product-card">
            <div class="encabezado-card">
              <p class="codigo">COD: {{ producto.codigo }}</p>
              <ion-icon
                name="star-outline"
                class="estrella"
                (click)="marcarFavorito(producto)"
              ></ion-icon>
            </div>

            <img [src]="producto.imagen" *ngIf="producto.imagen" class="img-producto" />

            <ion-card-content>
              <p class="titulo">{{ producto.titulo }}</p>

              <p class="precio" [class.con-descuento]="producto.descuento">
                <span *ngIf="producto.descuento" class="tachado">
                  ${{ producto.precioOriginal }}
                </span>
                <span [ngClass]="{ 'precio-oferta': producto.descuento, 'precio-normal': !producto.descuento }">
                  ${{ producto.precio }}
                </span>
              </p>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ng-container>
    </ion-row>

  </ion-grid>
</ion-content>
